{% extends "shopify/base.html" %}
{% block title %}Admin Dashboard - Shopify{% endblock %}
{% block content %}
<section class="admin-page">
    <div class="container">
        <h1 class="page-title"><i class="fas fa-cog"></i> Administration</h1>
        
        <div class="admin-section">
            <h2>Ajouter un Produit</h2>
            <form method="post" action="{{ url_for('admin_add_product') }}" class="admin-form">
                <div class="form-row">
                    <input type="text" name="name" placeholder="Nom du produit" required>
                    <input type="text" name="category" placeholder="Catégorie" required>
                </div>
                <textarea name="description" placeholder="Description" required rows="3"></textarea>
                <div class="form-row">
                    <input type="number" name="price" placeholder="Prix (€)" step="0.01" required>
                    <input type="number" name="stock" placeholder="Stock" required>
                </div>
                <input type="url" name="image_url" placeholder="URL de l'image" required>
                <button type="submit" class="btn-admin"><i class="fas fa-plus"></i> Ajouter</button>
            </form>
        </div>

        <div class="admin-section">
            <h2>Produits ({{ products|length }})</h2>
            <div class="admin-products">
                {% for product in products %}
                    <div class="admin-product-card">
                        <img src="{{ product.image_url }}" alt="{{ product.name }}">
                        <div>
                            <h3>{{ product.name }}</h3>
                            <p>{{ product.category }} - {{ "%.2f"|format(product.price) }} € - Stock: {{ product.stock }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
<style>
.admin-page { padding: 3rem 0; }
.admin-section { background: white; padding: 2rem; border-radius: 16px; box-shadow: var(--shadow); margin-bottom: 2rem; }
.admin-section h2 { font-size: 1.5rem; margin-bottom: 1.5rem; }
.admin-form { display: flex; flex-direction: column; gap: 1rem; }
.admin-form .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.admin-form input, .admin-form textarea { padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 12px; font-family: inherit; }
.btn-admin { padding: 1rem; background: var(--gradient); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; }
.admin-products { display: flex; flex-direction: column; gap: 1rem; }
.admin-product-card { display: flex; align-items: center; gap: 1rem; padding: 1rem; background: var(--light-color); border-radius: 12px; }
.admin-product-card img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; }
</style>
{% endblock %}

